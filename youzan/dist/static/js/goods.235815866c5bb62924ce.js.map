{"version":3,"sources":["webpack:///./src/pages/goods/goods.js","webpack:///src/components/Swiper.vue","webpack:///./src/components/Swiper.vue?272d","webpack:///./src/components/Swiper.vue","webpack:///./src/modules/js/avInit.js","webpack:///./src/modules/js/api.js","webpack:///./src/modules/js/mixin.js"],"names":["__WEBPACK_IMPORTED_MODULE_7_vue__","el","data","details","goodHTML","identification","imagesArr","originalPrice","postage","price","remain","sales","skuList","storeName","title","detailTab","skuType","showSku","showCartBtn","dealList","activeBtnIndex","bannerSwiper","options","direction","loop","pagination","autoplay","domSelector","buyNum","numReg","computed","isbuyMinusVaild","this","isbuyAddVaild","remainNum","minus","methods","addBuyNum","test","String","minusBuNum","getGoodDetail","_this","Object","__WEBPACK_IMPORTED_MODULE_8_js_api_js__","then","res","key","JSON","parse","$nextTick","document","querySelector","innerHTML","getDealList","_this2","toggleTabBtn","index","chooseSku","type","hidePop","addToCart","components","top-banner","__WEBPACK_IMPORTED_MODULE_11_components_Swiper_vue__","watch","value","oldValue","styValue","heightValue","body","style","overflow","height","created","mixins","__WEBPACK_IMPORTED_MODULE_9_js_mixin_js__","Swiper","props","swiperInstance","mounted","slideList","newValue","swiper_esm_bundle","swiperOptions","components_Swiper","render","_h","$createElement","_c","_self","staticClass","_l","item","attrs","href","clickUrl","src","image","_v","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","av_min_default","a","init","appId","appKey","objName","Query","find","map","extends_default","attributes","toast_default","message","position","duration","mixin","filters","floatnum","strValue","indexOf","split","length"],"mappings":"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","file":"static/js/goods.235815866c5bb62924ce.js","sourcesContent":["import \"./goods.css\"\nimport \"./goods_common.css\"\nimport \"./goods_custom.css\"\nimport \"./goods_mars.css\"\nimport \"./goods_sku.css\"\nimport \"./goods_base.css\"\nimport \"./goods_theme.css\"\n\nimport Vue from \"vue\"\nimport leanCloudTool from \"js/api.js\";\nimport { Toast } from 'mint-ui';\nimport mixin from \"js/mixin.js\"\nimport qs from \"qs\"\nimport topBanner from \"components/Swiper.vue\"\n\nlet detailTab = [\"商品详情\", \"本店成交\"]\n\nnew Vue({\n    el: \"#app\",\n    data: {\n        details:{\n            goodHTML: \"\",\n            identification: null,\n            imagesArr: null,\n            originalPrice: 0,\n            postage: \"\",\n            price: 0,\n            remain:0,\n            sales: 0,\n            skuList: null,\n            storeName: \"\",\n            title: \"\",\n        },\n        detailTab,\n        skuType: 1,\n        showSku: false,\n        showCartBtn: false,\n        dealList:null,\n        activeBtnIndex: 0,\n        bannerSwiper: {\n            options: {\n                direction: 'horizontal',\n                loop: true,\n                pagination: {\n                    el: '.index-swiper .swiper-pagination',\n                },\n                autoplay: true,\n            },\n            domSelector: \".index-swiper\",\n        },\n        buyNum: 1,\n        numReg: /^[1-9]\\d*$/,\n    },\n    computed: {\n        isbuyMinusVaild: function() {\n            if (this.buyNum && this.buyNum > 1) {\n                return true\n            } else {\n                return false\n            }\n        },\n        isbuyAddVaild: function() {\n            return this.remainNum <= 0 ? false : true\n        },\n        remainNum: function() {\n            let minus = this.details.remain - this.buyNum\n            return minus >= 0 ? minus : 0\n        }\n    },\n    methods: {\n        addBuyNum() {\n            if (!this.isbuyAddVaild) {return}\n            if (this.numReg.test(String(this.buyNum))) {\n                this.buyNum += 1\n            } else {\n                this.buyNum = 1\n            }\n        },\n        minusBuNum() {\n            if (this.isbuyMinusVaild) {\n                this.buyNum -= 1\n            }\n        },\n        getGoodDetail() {\n            leanCloudTool(\"ShopDetail\").then(res => {\n                let data = res[0]\n                for (let key in data) {\n                    if (this.details[key] === null) {\n                        this.details[key] = JSON.parse(data[key])\n                    } else {\n                        this.details[key] = data[key]\n                    }\n                }\n                this.$nextTick(function () {\n                    document.querySelector(\".custom-richtext\").innerHTML = this.details.goodHTML\n                })\n            })\n        },\n        getDealList() {\n            leanCloudTool(\"shopDealRecord\").then(res => {\n                this.dealList = res\n            })\n        },\n        toggleTabBtn(index) {\n            this.activeBtnIndex = index\n            if (index === 1) {\n                this.getDealList()\n            }\n        },\n        chooseSku(type) {\n            this.showSku = true\n            this.skuType = type\n        },\n        hidePop() {\n            this.showSku = false\n        },\n        addToCart() {\n            this.hidePop()\n            this.showCartBtn = true\n        },\n    },\n    components: {\n        \"top-banner\": topBanner,\n    },\n    watch: {\n        showSku(value, oldValue) {\n            let styValue = value ? \"hidden\" : \"auto\"\n            let heightValue = value ? \"100%\" : \"auto\"\n            document.body.style.overflow = styValue\n            document.querySelector(\"html\").style.overflow = styValue\n            document.body.style.height = heightValue\n            document.querySelector(\"html\").style.height = heightValue\n        }\n    },\n    created() {\n        this.getGoodDetail()\n    },\n    mixins: [mixin],\n})\n\n\n// WEBPACK FOOTER //\n// ./src/pages/goods/goods.js","<template>\n    <div class=\"index-swiper swiper-container\">\n        <div class=\"swiper-wrapper\">\n            <div class=\"swp-page swiper-slide\" v-for=\"(item, index) in slideList\" :key=\"index\">\n                <a class=\"js-no-follow\" :href=\"item.clickUrl\">\n                    <img class=\"goods-main-photo fadeIn\" :src=\"item.image\">\n                </a>\n            </div>\n        </div>\n        <div v-if=\"swiperOptions.pagination\" class=\"swiper-pagination\"></div>\n    </div>\n</template>\n\n<script>\n    import Swiper from \"swiper\"\n    import \"swiper/dist/css/swiper.min.css\"\n    export default {\n        props: [\"slideList\", \"swiperOptions\", \"domSelector\"],\n        data() {\n            return {\n                swiperInstance: null,\n            }\n        },\n        mounted() {\n        },\n        watch: {\n            slideList: function(newValue) {\n                if (newValue) {\n                    this.$nextTick(function() {\n                        this.swiperInstance = new Swiper (this.domSelector, this.swiperOptions)\n                    })\n                }\n            }\n        },\n    }\n</script>\n\n<style>\n    .swiper-slide img {\n        width: 100%;\n        height: 100%;\n    }\n    /*.swp .swiper-wrapper,*/\n    /*.swp .swp-page {*/\n        /*overflow: hidden*/\n    /*}*/\n\n    /*.swp .swp-page {*/\n        /*display: none;*/\n        /*width: 100%;*/\n        /*height: 100%;*/\n        /*text-align: center*/\n    /*}*/\n\n    /*.swp .swp-page img {*/\n        /*max-width: 100%;*/\n        /*max-height: 100%*/\n    /*}*/\n\n    /*.swp .swp-page:first-child {*/\n        /*display: block*/\n    /*}*/\n    /*.custom-image-swiper a[href=\"javascript:;\"],*/\n    /*.custom-image-swiper a[href=\"javascript:void(0);\"] {*/\n        /*cursor: default*/\n    /*}*/\n\n    /*.custom-image-swiper .swp-page {*/\n        /*position: absolute;*/\n        /*top: 0;*/\n        /*left: 0;*/\n        /*text-align: center*/\n    /*}*/\n\n    /*.custom-image-swiper .swp-page img {*/\n        /*max-width: 100%;*/\n        /*max-height: 100%;*/\n        /*width: 100%*/\n    /*}*/\n\n    /*.custom-image-swiper .swiper-slide a {*/\n        /*display: block;*/\n        /*position: relative;*/\n        /*text-align: center;*/\n        /*width: 320px*/\n    /*}*/\n\n    /*.custom-image-swiper .swiper-slide a img {*/\n        /*max-width: 100%;*/\n        /*height: auto*/\n    /*}*/\n\n    /*.custom-image-swiper-single .swiper-wrapper {*/\n        /*position: relative*/\n    /*}*/\n\n    /*.custom-image-swiper-single .swiper-wrapper:after {*/\n        /*content: \" \";*/\n        /*display: block;*/\n        /*padding-top: 0*/\n    /*}*/\n\n    /*.custom-image-swiper-single .swp-page {*/\n        /*position: static*/\n    /*}*/\n\n    /*.custom-image-swiper-single .swiper-slide {*/\n        /*float: none*/\n    /*}*/\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Swiper.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"index-swiper swiper-container\"},[_c('div',{staticClass:\"swiper-wrapper\"},_vm._l((_vm.slideList),function(item,index){return _c('div',{key:index,staticClass:\"swp-page swiper-slide\"},[_c('a',{staticClass:\"js-no-follow\",attrs:{\"href\":item.clickUrl}},[_c('img',{staticClass:\"goods-main-photo fadeIn\",attrs:{\"src\":item.image}})])])})),_vm._v(\" \"),(_vm.swiperOptions.pagination)?_c('div',{staticClass:\"swiper-pagination\"}):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4825d7fc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Swiper.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4825d7fc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Swiper.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Swiper.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Swiper.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4825d7fc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Swiper.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Swiper.vue\n// module id = null\n// module chunks = ","import AV from \"leancloud-storage\"\n\nlet APP_ID = 'IOdBWAtbQXIu491P7ldb0gB6-gzGzoHsz';\nlet APP_KEY = 'qlHMaucWHOv4mW5yejNzJf6V';\n\nAV.init({\n    appId: APP_ID,\n    appKey: APP_KEY\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/avInit.js","import AV from \"leancloud-storage\"\nimport \"js/avInit.js\"\n\nimport { Toast } from 'mint-ui';\n\nexport default function(objName){\n    var query = new AV.Query(objName)\n    return query.find().then(data => {\n        return data.map(item => {return {...item.attributes}})\n    },() => {\n        Toast({\n            message: '网络异常',\n            position: 'bottom',\n            duration: 2500\n        })\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/api.js","let mixin = {\n    filters: {\n        floatnum(value) {\n            let strValue = String(value)\n            if (strValue.indexOf(\".\") === -1) {\n                return strValue + \".00\"\n            }\n            else if (strValue.split(\".\")[1].length === 1) {\n                return strValue + \"0\"\n            }\n            else {\n                return strValue\n            }\n        }\n    }\n}\n\nexport default mixin\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/mixin.js"],"sourceRoot":""}